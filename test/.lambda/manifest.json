{
  "manifest_version": 2,
  "template": "webhook_relay",
  "version": "0.1",
  "app_id": ".unittest",
  "listen_at": {
    "host": "localhost",
    "port": "",
    "verb": "post",
    "path": "/webhooks/receive"
  },
  "log_to": {
    "host": "http://localhost:52987",
    "port": "443",
    "verb": "post",
    "path": "/webhooks"
  },
  "program": {
    "identifier": "1",
    "enabled": true,
    "definition": {
      "actions": [
        {
          "identifier": "2",
          "enabled": true,
          "name": "Is Challenge",
          "type": "If",
          "definition": {
            "condition": "payload.challenge",
            "then": [
              {
                "identifier": "3",
                "type": "Transform",
                "enabled": true,
                "definition": {
                  "from": "GenericObject",
                  "to": "GenericObject",
                  "transformations": [
                    {
                      "from": "challenge",
                      "to": "body.challenge"
                    }
                  ]
                }
              },
              {
                "identifier": "4",
                "enabled": true,
                "type": "SendResponse"
              }
            ],
            "else": [
              {
                "identifier": "5",
                "enabled": true,
                "type": "Transform",
                "definition": {
                  "from": "GenericObject",
                  "to": "GenericObject",
                  "transformations": [
                    {
                      "from": "greet(hello)",
                      "to": "message"
                    }
                  ]
                }
              },
              {
                "identifier": "6",
                "enabled": true,
                "type": "HttpRequest",
                "config": {
                  "url": "http://localhost:52987/actions",
                  "method": "POST"
                }
              }
            ]
          }
        }
      ]
    }
  },
  "definitions": [
    {
      "name": "greet",
      "type": "function",
      "definition": "function greet (value) { return `Greetings, ${value}` }",
      "notes": "Returns a greeting string"
    }
  ]
}